<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Debug Test</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
</head>
<body>
    <h1>Firebase Google Login Debug Test</h1>
    <button id="googleLogin">Test Google Login</button>
    <div id="result"></div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBptxqQHZpstJwUqq1TD2-sbS_iUCm9spk",
            authDomain: "login-d3f1c.firebaseapp.com",
            projectId: "login-d3f1c",
            storageBucket: "login-d3f1c.firebasestorage.app",
            messagingSenderId: "132957716999",
            appId: "1:132957716999:web:ddaac6be1355184a7560a2"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const provider = new firebase.auth.GoogleAuthProvider();
        provider.addScope('email');
        provider.addScope('profile');

        document.getElementById('googleLogin').addEventListener('click', async () => {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = 'Testing Google login...';
            
            try {
                const result = await auth.signInWithPopup(provider);
                const user = result.user;
                
                resultDiv.innerHTML = `
                    <h3>✅ Google Login Successful!</h3>
                    <p><strong>Email:</strong> ${user.email}</p>
                    <p><strong>Name:</strong> ${user.displayName}</p>
                    <p><strong>UID:</strong> ${user.uid}</p>
                    <p><strong>Email Verified:</strong> ${user.emailVerified}</p>
                `;
                
                console.log('Google login successful:', user);
            } catch (error) {
                console.error('Google login error:', error);
                resultDiv.innerHTML = `
                    <h3>❌ Google Login Failed</h3>
                    <p><strong>Error Code:</strong> ${error.code}</p>
                    <p><strong>Error Message:</strong> ${error.message}</p>
                `;
            }
        });

        // Monitor auth state
        auth.onAuthStateChanged((user) => {
            if (user) {
                console.log('User signed in:', user.email);
            } else {
                console.log('User signed out');
            }
        });
    </script>
</body>
</html>